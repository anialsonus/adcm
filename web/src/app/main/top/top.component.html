<mat-toolbar color="primary" class="mat-elevation-z6">
  <a routerLink="/" class="logo">
    <img src="/assets/adcm-logo.png" alt="" class="logo" />
  </a>

  <div class="example-spacer on-center">
    <button class="topmenu_clusters" mat-button color="accent" routerLink="/cluster" routerLinkActive="mat-warn">
      CLUSTERS
    </button>
    &nbsp;
    <button class="topmenu_hostproviders" mat-button color="accent" routerLink="/provider" routerLinkActive="mat-warn">
      HOSTPROVIDERS
    </button>
    &nbsp;
    <button class="topmenu_hosts" mat-button color="accent" routerLink="/host" routerLinkActive="mat-warn">
      HOSTS
    </button>
    &nbsp;
    <button class="topmenu_jobs" mat-button color="accent" routerLink="/task" routerLinkActive="mat-warn">JOBS</button>
    &nbsp;
    <button class="topmenu_bundles" mat-button color="accent" routerLink="/bundle" routerLinkActive="mat-warn">
      BUNDLES
    </button>
  </div>

  <span class="right-buttons">
    &nbsp;
    <span *ngIf="(isAuth$ | async)">
      <ng-container *ngIf="(jobStat$ | async)"></ng-container>
      <span class="job-status">
        <button [appForTest]="'jobs_yellow'" mat-mini-fab [style.backgroundColor]="'#FFEA00'"
          [routerLink]="['/task', { page: 0, filter: 'running' }]" matTooltip="Show jobs in progress">
          {{ jobStatus.running }}
        </button>
        <button [appForTest]="'jobs_green'" mat-mini-fab color="accent" [routerLink]="['/task', { page: 0, filter: 'success' }]"
          matTooltip="Show success jobs">
          {{ jobStatus.success > 1000 ? (jobStatus.success/1000).toFixed(1) + 'K' : jobStatus.success }}
        </button>
        <button [appForTest]="'jobs_red'" mat-mini-fab [style.backgroundColor]="'#FF8A80'"
          [routerLink]="['/task', { page: 0, filter: 'failed' }]" matTooltip="Show failed jobs">
          {{ jobStatus.failed > 1000 ? (jobStatus.failed/1000).toFixed(1) + 'K' : jobStatus.failed }}
        </button>
      </span>

      <button [appForTest]="'help'" mat-icon-button [matMenuTriggerFor]="helpMenu">
        <mat-icon>help</mat-icon>
      </button>
      <mat-menu #helpMenu="matMenu" [overlapTrigger]="false">
        <a href="https://t.me/joinchat/DYEBbReM-hj421LV0y5prw" target="_blank" [appForTest]="'ask_for_help'"
          mat-menu-item>
          <mat-icon>contact_support</mat-icon>
          <span>Ask for help</span>
        </a>
        <a [appForTest]="'dock'" mat-menu-item href="http://docs.arenadata.io/adcm/" target="_blank">
          <mat-icon>event_seat</mat-icon>
          <span>Documentation</span>
        </a>
      </mat-menu>

      <button [appForTest]="'account'" class="toppanel_button_user" mat-icon-button [matMenuTriggerFor]="accountMenu">
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #accountMenu="matMenu" [overlapTrigger]="false">
        <a [appForTest]="'settings'" mat-menu-item [routerLink]="['/admin/settings/']">
          <mat-icon>settings_applications</mat-icon>
          <span>Settings</span>
        </a>
        <button [appForTest]="'profile'" mat-menu-item (click)="profile()">
          <mat-icon>folder_shared</mat-icon>
          <span>Profile</span>
        </button>
        <button [appForTest]="'logout'" mat-menu-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </span>
  </span>
</mat-toolbar>
